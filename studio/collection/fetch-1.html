<!DOCTYPE html>
<html>
<head>
	<title></title>
</head>
<body>
<script>
	
// load our json file.
var dataArray = [];
var url = "https://raw.githubusercontent.com/huanw436/ci19/master/studio/collection/murdercase.json";
// var url = "murdercase2.json";

fetch(url)
	.then(function(response){return response.json();})
	.then(function(json){ buildPage(json); })

	function buildPage(data) {
		dataArray = data;
	for(var i = 0; i < data.length; i = i + 1){
		//date, event, keyword


		var entry = data[i];
		var date = document.createElement("h1");
		var event = document.createElement("h2");

		date.innerHTML = data[i].Date;
		event.innerHTML = data[i].Event;
		

		document.body.appendChild(date);
		document.body.appendChild(event);

		//loop thru keywords
		for(var j = 0; j < entry.Keyword.length; j++) {
			var keyword = document.createElement("h3");
			document.body.appendChild(keyword);
			keyword.innerHTML = data[i].Keyword[j];
				
		}

		//loop thru images
		for(var j = 0; j < entry.Images.length; j++) {
			var image = document.createElement("img");
			document.body.appendChild(image);
			image.src = data[i].Images[j];

			image.addEventListener('click', function(e){
				console.log(entry);

				//create date and event divs
				var date = document.createElement("h1");
				var event = document.createElement("h2");

				date.innerHTML = entry.Date;
				event.innerHTML = entry.Event;

				
				document.body.appendChild(date);
				document.body.appendChild(event);



			});
				
		}

	
		


		// var image = document.createElement("img");
		// image.setAttribute("src", data[i].url);
		// document.body.appendChild(image);
		
		// if(data[i].kind == "coffee"){
		// 	kind.style.color = "brown";
		// }
		// if(data[i].kind == "water"){
		// 	kind.style.color = "turquoise";
		// }

		// var line = document.createElement("hr");
		// document.body.appendChild(line);
	}
}

	//var image = document.createElement(img);
	// image.src = 'images/hello.jpg'

	//var image = document.createElement(img);
	// image.src = 'url(hello.jpg)'

	// url(hshshhshshs.com)

</script>
</body>
</html>



<!--  Running server to see data, if I don't run one I get a CORS error -->